language: cpp
compiler: gcc
dist: xenial
addons:
  apt:
    packages:
      - git
      - make
      - cmake
      - cmake-data
      - libhiredis-dev
      - libssl-dev
      - libgoogle-glog-dev
      - redis-server
service:
  - redis-server
jobs:
  include:
  - name: "Build and test"
    before_script: |
      git clone https://github.com/sewenew/redis-plus-plus.git && \
      cd redis-plus-plus && \
      mkdir compile && \
      cmake -DCMAKE_BUILD_TYPE=Release .. && \
      make && \
      make install
    script: "make"